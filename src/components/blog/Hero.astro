---
import Button from "../ui/Button.astro";
import LastPost from "../blog/LastPost.astro";
import Languages from "../blog/Languages.astro";
import { Icon } from "astro-icon/components";
import Heading from "../ui/Heading.astro";
import { getCollection } from "astro:content";

const [staticData] = await getCollection("staticData");
const {
  techsTitle,
  github,
  githubText,
  profileAlt,
  profileImage,
  profileLink,
  profileTitle,
  profileName,
} = staticData.data;
---

<section class="py-8 px-8 max-sm:px-4 max-sm:py-2">
  <div
    class="grid md:grid-cols-4 md:grid-rows-2 gap-4 max-sm:gap-3 grid-cols-2 grid-rows-4 max-w-7xl mx-auto max-md:h-[80vh] max-sm:h-auto max-sm:grid-rows-[auto_200px_auto_auto] max-xl:h-[550px] xl:h-[700px]"
  >
    <div
      class="group hover:shadow-sm dark:hover:shadow-gray-800/30 transition-all duration-300 p-8 max-md:gap-0 max-xl:p-5 h-full max-md:p-4 max-lg:gap-1 gap-3 flex flex-col bg-white dark:bg-gray-800/50 border border-neutral-100 dark:border-gray-700/30 rounded-2xl shadow-sm dark:shadow-gray-800/30 md:col-start-4 col-start-2 row-start-2 relative overflow-hidden"
    >
      <div class="absolute -bottom-10 -right-10 opacity-5 group-hover:opacity-10 transition-opacity duration-300">
        <Icon name="code" class="w-40 h-40 text-mint-500 dark:text-mint-400/40" />
      </div>
      
      <div class="flex items-center gap-2 mb-1">
        <Heading text={techsTitle} textGradient="from-blue-600 to-mint-500 dark:from-blue-400 dark:to-mint-400" level={3} />
        <span class="text-xs text-mint-600 dark:text-mint-300 font-medium bg-mint-100 dark:bg-mint-800/50 px-2 py-0.5 rounded-full">Expert</span>
      </div>
      
      <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">Modern stack for powerful, responsive websites</p>

      <div class="overflow-y-auto relative z-10">
        <Languages />
      </div>
    </div>

    <div
      class="group hover:shadow-sm dark:hover:shadow-gray-800/30 transition-all duration-300 z-40 col-start-1 row-start-2 md:col-start-3 relative rounded-2xl overflow-hidden"
    >
      <div class="w-full h-full bg-white dark:bg-gray-800/50 shadow-sm dark:shadow-gray-800/30 border border-neutral-100 dark:border-gray-700/30 rounded-2xl">
        <div
          class="w-full h-full relative overflow-hidden rounded-2xl"
        >
          <a target="_blank" href={github}>
            <div
              class="p-8 h-full relative max-xl:p-5 max-md:p-4 flex flex-col gap-8"
            >
              <div class="mb-4">
                <span class="inline-block p-3 rounded-lg bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400">
                  <Icon name="github-svg" class="h-6 w-6" />
                </span>
              </div>
              
              <div class="z-2">
                <Heading text={githubText} level={3} className="text-gray-800 dark:text-white" />
              </div>
              
              <p class="text-gray-600 dark:text-gray-300">Explore open-source projects and code samples.</p>

              <Icon
                class="group-hover:animate-pulse ease-in-out size-40 absolute opacity-5 -bottom-5 -right-5 text-purple-500"
                name="github"
              />
            </div>
          </a>
        </div>
      </div>
    </div>

    <div
      class="col-span-2 col-start-1 row-start-1 md:col-start-3 rounded-2xl overflow-hidden"
    >
      <article
        class="group hover:shadow-sm dark:hover:shadow-gray-800/30 transition-all duration-300 w-full h-full overflow-hidden p-4 max-md:p-4 gap-4 max-md:gap-1 max-lg:gap-0 rounded-2xl bg-white dark:bg-gray-800/50 flex shadow-sm dark:shadow-gray-800/30 border border-neutral-100 dark:border-gray-700/30 relative"
      >
        <div
          class="group-hover:scale-[1.02] transition-transform duration-500 w-5/12 max-sm:w-auto flex justify-center items-center"
        >
          <div
            aria-label={profileAlt}
            class="h-full w-full max-sm:rounded-full rounded-2xl max-sm:size-20 flex justify-center items-center bg-gradient-to-br from-mint-400/20 to-blue-500/20 dark:from-mint-800/30 dark:to-blue-800/30 overflow-hidden shadow-md"
          >
            <div class="logo text-2xl text-mint-500 dark:text-mint-400 text-center relative before:absolute before:left-1/2 before:top-1/2 before:h-full before:w-[40%] before:-translate-x-1/2 before:-translate-y-1/2 before:rounded-full before:bg-[#50fd8f25] before:blur-3xl before:opacity-80 before:-z-1">TapfarTech</div>
            <a href={profileLink} class="h-full w-full absolute inset-0 flex"></a>
          </div>
        </div>
        <div
          class="p-4 w-7/12 flex flex-col justify-center gap-4 max-sm:w-fit max-md:gap-2"
        >
          <div class="mb-1">
            <span class="inline-block px-3 py-1 rounded-full bg-mint-100 dark:bg-mint-900/30 text-mint-600 dark:text-mint-400 text-sm font-medium">
              Professional Web Development
            </span>
          </div>
          <div class="logo text-2xl text-gray-800 dark:text-white">TapfarTech</div>
          <p class="text-gray-600 dark:text-gray-300 mb-4 text-sm">Modern web development solutions with cutting-edge technologies</p>
          <Button
            link={profileLink}
            text="About TapfarTech"
            iconName="info"
            class="inline-block bg-mint-500 hover:bg-mint-600 text-white font-medium py-2 px-4 rounded-lg transition"
          />
        </div>
      </article>
    </div>
    <div
      class="col-span-2 row-span-2 md:col-start-1 md:row-start-1 rounded-2xl bg-white dark:bg-gray-800/50 shadow-sm dark:shadow-gray-800/30 border border-neutral-100 dark:border-gray-700/30 overflow-hidden"
    >
      <div class="p-2 h-full">
        <LastPost />
      </div>
    </div>
  </div>
</section>
